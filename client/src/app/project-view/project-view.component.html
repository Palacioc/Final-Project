
<div *ngIf="project">
  <h1>
    {{project.name}}
    <button *ngIf="userIsCreator" class="btn btn-default" [routerLink]="['/projects/edit/']+[param]">Edit project</button>
    <button *ngIf="userIsCreator" class="btn btn-danger" (click)="deleteProject(project._id)">Delete project</button>
   </h1>
  <blockquote>
    <p>{{project.description}}</p>
    <footer>in {{project.location}}, started by {{project._creator.username}} on {{project.created_at | date}}</footer>
  </blockquote>
  <div class="meter">
    <div class="green-dot" *ngFor="let i of arr(numberGreen).fill(1)"></div>
    <div class="blue-dot" *ngFor="let i of arr(numberBlue).fill(1)"></div>
    <div class="grey-dot" *ngFor="let i of arr(numberGrey).fill(1)"></div>

    Total needs: {{total}}; Percentage covered fully: {{percentageGreen | percent}}<br>

  </div>
  <div *ngFor="let need of needs" class="panel-group">
    <app-need-view [need]="need" [project]="project" [userIsCreator]="userIsCreator" [user]="user"></app-need-view>
  </div>
  <button *ngIf="userIsCreator" class="btn btn-default" [routerLink]="['/needs/new/']+[param]">Add a new need</button>
</div>
